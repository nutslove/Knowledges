## 前提
- defaultでは無期限で、バックエンドのオブジェクトストレージのライフサイクルに依存する
- ただ、Loki側で設定することも可能

## Loki側での保存期間設定方法
- https://grafana.com/docs/loki/latest/operations/storage/retention/
- https://medium.com/@aditya.hilman_10961/enabling-log-retention-in-loki-with-compactor-fe3de2002b47
- `limits_config`ブロックと`compactor`ブロックの両方で設定する必要がある
### `limits_config`ブロックの`retention_period`で保存期間を設定
- 例: 30日間保存したい場合  
  ```yaml
  limits_config:
    retention_period: 720h  # 720 hours is 30 days
  ```
### `compactor`ブロック側の設定
```yaml
compactor:
  replicas: 1
  retention_enabled: true # trueにする必要がある
  working_directory: /tmp/loki/retention # Specifies the directory where the compactor stores its state and temporary files while processing. The directory where marked chunks and temporary tables will be saved.
  delete_request_store: s3 # should be set to configure the store for delete requests. This is required when retention is enabled.
  retention_delete_delay: 2h # The delay after which the Compactor will delete marked chunks.
```