# 概念
- 非同期処理は、I/O待ち時間などのブロッキング操作が多いアプリケーションのパフォーマンスを向上させるための強力な機能。特にネットワーク通信やファイル操作などの場面で効果を発揮する。
- 非同期プログラミングでは、タスクが完了するのを待つ間に他のタスクを実行できる。Pythonでは`asyncio`パッケージと`async`と`await`キーワードを使用して実装する。
- 参考URL
  - https://zenn.dev/iharuoru/articles/45dedf1a1b8352

# 主要な要素
![](./image/coroutine_task_eventloop_1.jpg)

## コルーチン（Coroutine）
- `async def`で定義される関数は「コルーチン」と呼ばれ、非同期処理の基本単位

## タスク（Task）
- タスクはコルーチンをスケジュールし、その実行を管理するためのオブジェクト
- 基本的に1つのタスクは1つのコルーチンに対応

## イベントループ

# コルーチンの実行方法
## `await`キーワードを使用
- 別の非同期関数（`async def`で定義された関数）の中からコルーチンを呼び出す時に使う
- `await`キーワードは「この操作が完了するまで待機し、その間は他のタスクを実行できる」ことを示す
  - 何か別の処理が完了するまで待つ時に`await`を使う  
  ```python
  async def fetch_data():
      print("データ取得開始")
      await asyncio.sleep(2)  # データ取得を模擬（2秒待機）
      print("データ取得完了")
      return {"data": "結果"}
  ```
- **`await`は`async`内でしか使えない**

## `asyncio.run()`を使用
- 最上位レベルからコルーチンを実行するために使う。これはプログラムのエントリーポイントで一度だけ呼び出すべき。
- **`asyncio.run`は逆に`async`内では使えない**

## `asyncio.create_task()`を使用
- コルーチンをタスクに変換して並行実行させる方法