# GIL（Global Interpreter Lock）とは
- Pythonインタプリタ（特にCPython）が同時に実行できるPythonバイトコードを1つのスレッドに制限する仕組み。つまり、マルチスレッドプログラムでも、実際にはある瞬間には1つのスレッドしかPythonコードを実行できない。
- GILの目的は、メモリ管理（参照カウンタなど）をスレッドセーフにするため（複数のスレッドによる競合状態(Race Condition)が発生しないようにするため）
- GILは、スレッドがPythonのバイトコードを実行する前に取得し、実行後に解放する仕組みで動作する。具体的には、インタプリタは一定のバイトコード命令を実行した後、GILを解放し、別のスレッドがGILを取得できるようにしする。これにより、複数のスレッドが交互に実行されることになる。

# GILの回避方法
## `multiprocessing`モジュール
- GILはプロセスごとに存在するため、**multiprocessing**モジュールを使って複数のプロセスを生成することで、それぞれのプロセスが独自のPythonインタプリタとGILを持ち、真の並列処理を実現できる。これは、**CPUバウンド**なタスクに特に有効である。
## 非同期I/O
- `asyncio` のような非同期I/Oフレームワークは、シングルスレッド内で複数のI/O処理を効率的に切り替えることで並行処理を実現する。これはGILの影響を受けにくく、**I/Oバウンド**なタスクに適している。
## `NumPy`などのライブラリ
- `NumPy`などのライブラリは、内部でGILを解放し、CやFortranで書かれた並列処理を行うことができるため、GILの影響を受けない。
## Python 3.13で追加されたGIL無効化機能（free threading）
- まだ実験的な機能であり、自分でPythonをビルドしなければならない
  - `--disable-gil`オプションでビルド後、Python実行時も環境変数`PYTHON_GIL=0`の設定が必要