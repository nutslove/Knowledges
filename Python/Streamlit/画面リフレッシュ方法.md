## `st.rerun()`と`st.button()`の`on_click`（callback関数）を組み合わせて画面をリフレッシュする
> [!CAUTION]
> ```python
> def reset_chat():
>    del st.session_state["messages"]
>    del st.session_state["chat_messages"]
>    del st.session_state["message_id"]
>    st.rerun()
>
> def main():
>    st.button('会話リセット', type="primary", icon=":material/refresh:", on_click=reset_chat)
> ```
> 上記のようにcallback関数内で`st.rerun()`を実行すると以下の警告が出る。  
> ![](../image/streamlit_rerun_warning.jpg)  
> `st.rerun()`はcallback関数内で使ってはいけないみたい。  
> https://discuss.streamlit.io/t/menu-between-multipages-calling-st-rerun-within-a-callback-is-a-no-op/53827

> [!WARNING]  
> - `st.experimental_rerun()`は廃止となり、1.39.0から使えなくなった
>   - https://docs.streamlit.io/develop/api-reference/execution-flow/st.experimental_rerun